{"ast":null,"code":"import _slicedToArray from\"/Users/bryancancel/Documents/sourceControl/b-cancel.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from\"react\";import{isMobile}from\"react-device-detect\";var oldWindowDimensions;function getWindowDimensions(){var _window=window,width=_window.innerWidth,height=_window.innerHeight;oldWindowDimensions={width:width,height:height};return oldWindowDimensions;}export default function useModifiedWindowDimensions(){var _useState=useState(getWindowDimensions()),_useState2=_slicedToArray(_useState,2),windowDimensions=_useState2[0],setWindowDimensions=_useState2[1];useEffect(function(){function handleResize(){var oldWindowSize=oldWindowDimensions;var currWindowSize=getWindowDimensions();//it seems like this should allways be TRUE\n//but it isn't\n//and not checking this first affects performance\n//and the behavior on mobile explained below\nvar sameDimensions=oldWindowSize.height===currWindowSize.height&&oldWindowSize.width===currWindowSize.width;//APARENTLY we don't need to pass set our dimensions \n//if they haven't change on DESKTOP\n//but I'm playing it safe and still setting them since not doing so has no significant difference\n//but the opposite has a higher chance of breaking things\nif(isMobile===false){setWindowDimensions(currWindowSize);}else{//when we are on mobile...\n//its possible some features are appearing and disapearing dynamically...\n//but we don't want those to change the size of the elements that rely on height and width...\n//so we simply keep our dimmensions on mobile UNLESS an orientation change occurs\nvar oldPortrait=oldWindowSize.height>oldWindowSize.width;var currPortait=currWindowSize.height>currWindowSize.width;var orientationChange=oldPortrait!==currPortait;//TODO: I suspect that regardless of whether or not the orientation changes...\n//we can set window dimensions by simply copying our last height into our currWindowSize\n//but I'm unsure so I'll hold off\n//I have no idea why I need to pass the same dimmensions multiple times\n//but If I don't then things won't work properly\nif(orientationChange&&sameDimensions===false){//alert(\"setting dims on mobile \" + orientationChange + \" || \" + sameDimensions);\nsetWindowDimensions(currWindowSize);}}}window.addEventListener(\"resize\",handleResize);return function(){return window.removeEventListener(\"resize\",handleResize);};},[]);return windowDimensions;}","map":{"version":3,"sources":["/Users/bryancancel/Documents/sourceControl/b-cancel.github.io/src/window.js"],"names":["useState","useEffect","isMobile","oldWindowDimensions","getWindowDimensions","window","width","innerWidth","height","innerHeight","useModifiedWindowDimensions","windowDimensions","setWindowDimensions","handleResize","oldWindowSize","currWindowSize","sameDimensions","oldPortrait","currPortait","orientationChange","addEventListener","removeEventListener"],"mappings":"oLAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,OAASC,QAAT,KAAyB,qBAAzB,CAEA,GAAIC,CAAAA,mBAAJ,CAEA,QAASC,CAAAA,mBAAT,EAA+B,aACsBC,MADtB,CACTC,KADS,SACrBC,UADqB,CACWC,MADX,SACFC,WADE,CAE7BN,mBAAmB,CAAG,CACpBG,KAAK,CAALA,KADoB,CAEpBE,MAAM,CAANA,MAFoB,CAAtB,CAIA,MAAOL,CAAAA,mBAAP,CACD,CAED,cAAe,SAASO,CAAAA,2BAAT,EAAuC,eACJV,QAAQ,CACtDI,mBAAmB,EADmC,CADJ,wCAC7CO,gBAD6C,eAC3BC,mBAD2B,eAKpDX,SAAS,CAAC,UAAM,CACd,QAASY,CAAAA,YAAT,EAAwB,CACtB,GAAMC,CAAAA,aAAa,CAAGX,mBAAtB,CACA,GAAMY,CAAAA,cAAc,CAAGX,mBAAmB,EAA1C,CAEA;AACA;AACA;AACA;AACA,GAAMY,CAAAA,cAAc,CAClBF,aAAa,CAACN,MAAd,GAAyBO,cAAc,CAACP,MAAxC,EACAM,aAAa,CAACR,KAAd,GAAwBS,cAAc,CAACT,KAFzC,CAIA;AACA;AACA;AACA;AACA,GAAIJ,QAAQ,GAAK,KAAjB,CAAwB,CACtBU,mBAAmB,CAACG,cAAD,CAAnB,CACD,CAFD,IAEO,CACL;AACA;AACA;AACA;AACA,GAAME,CAAAA,WAAW,CAAGH,aAAa,CAACN,MAAd,CAAuBM,aAAa,CAACR,KAAzD,CACA,GAAMY,CAAAA,WAAW,CAAGH,cAAc,CAACP,MAAf,CAAwBO,cAAc,CAACT,KAA3D,CACA,GAAMa,CAAAA,iBAAiB,CAAGF,WAAW,GAAKC,WAA1C,CAEA;AACA;AACA;AAEA;AACA;AACA,GAAIC,iBAAiB,EAAIH,cAAc,GAAK,KAA5C,CAAmD,CACjD;AACAJ,mBAAmB,CAACG,cAAD,CAAnB,CACD,CACF,CACF,CAEDV,MAAM,CAACe,gBAAP,CAAwB,QAAxB,CAAkCP,YAAlC,EACA,MAAO,kBAAMR,CAAAA,MAAM,CAACgB,mBAAP,CAA2B,QAA3B,CAAqCR,YAArC,CAAN,EAAP,CACD,CA3CQ,CA2CN,EA3CM,CAAT,CA6CA,MAAOF,CAAAA,gBAAP,CACD","sourcesContent":["import { useState, useEffect } from \"react\";\nimport { isMobile } from \"react-device-detect\";\n\nvar oldWindowDimensions;\n\nfunction getWindowDimensions() {\n  const { innerWidth: width, innerHeight: height } = window;\n  oldWindowDimensions = {\n    width,\n    height,\n  };\n  return oldWindowDimensions;\n}\n\nexport default function useModifiedWindowDimensions() {\n  const [windowDimensions, setWindowDimensions] = useState(\n    getWindowDimensions()\n  );\n\n  useEffect(() => {\n    function handleResize() {\n      const oldWindowSize = oldWindowDimensions;\n      const currWindowSize = getWindowDimensions();\n\n      //it seems like this should allways be TRUE\n      //but it isn't\n      //and not checking this first affects performance\n      //and the behavior on mobile explained below\n      const sameDimensions =\n        oldWindowSize.height === currWindowSize.height &&\n        oldWindowSize.width === currWindowSize.width;\n\n      //APARENTLY we don't need to pass set our dimensions \n      //if they haven't change on DESKTOP\n      //but I'm playing it safe and still setting them since not doing so has no significant difference\n      //but the opposite has a higher chance of breaking things\n      if (isMobile === false) {\n        setWindowDimensions(currWindowSize);\n      } else {\n        //when we are on mobile...\n        //its possible some features are appearing and disapearing dynamically...\n        //but we don't want those to change the size of the elements that rely on height and width...\n        //so we simply keep our dimmensions on mobile UNLESS an orientation change occurs\n        const oldPortrait = oldWindowSize.height > oldWindowSize.width;\n        const currPortait = currWindowSize.height > currWindowSize.width;\n        const orientationChange = oldPortrait !== currPortait;\n\n        //TODO: I suspect that regardless of whether or not the orientation changes...\n        //we can set window dimensions by simply copying our last height into our currWindowSize\n        //but I'm unsure so I'll hold off\n\n        //I have no idea why I need to pass the same dimmensions multiple times\n        //but If I don't then things won't work properly\n        if (orientationChange && sameDimensions === false) {\n          //alert(\"setting dims on mobile \" + orientationChange + \" || \" + sameDimensions);\n          setWindowDimensions(currWindowSize);\n        }\n      }\n    }\n\n    window.addEventListener(\"resize\", handleResize);\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []);\n\n  return windowDimensions;\n}\n"]},"metadata":{},"sourceType":"module"}